services:
  quest-cast:
    build: .
    container_name: quest-cast
    restart: unless-stopped
    ports:
      - "6080:6080"
    volumes:
      - chrome-profile:/home/quest/.config/quest-cast-chrome
    devices:
      - /dev/dri:/dev/dri
    environment:
      - RESOLUTION=1920x1080x24
      - TWITCH_STREAM_KEY=${TWITCH_STREAM_KEY:-}
      - TWITCH_AUTOSTART=${TWITCH_AUTOSTART:-false}
    shm_size: "2g"

volumes:
  chrome-profile:
